<!DOCTYPE html>
<html>
<head>
  <title>Roundoff Plugin</title>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f3f4f6;
      color: #333;
    }
    .container {
      padding: 16px;
      display: flex;
      flex-direction: column;
      align-items: left;
    }
    .container > * {
      margin-bottom: 16px;
    }

    .container > *:last-child {
      margin-bottom: 0;
    }
    h1 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
    }
    .toggle {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    .toggle label {
      display: flex;
      align-items: center;
      font-size: 14px;
      cursor: pointer;
    }
    .toggle input {
      margin-right: 8px;
    }
    button {
      background-color: #1abcfe;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      margin: 4px 0;
      transition: background-color 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    button:hover {
      background-color: #0d99c6;
    }
    button:active {
      background-color: #0b7a9e;
    }
    .icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-right: 8px;
      height: 12px;
      width: 12px;
      vertical-align: middle;
      filter: invert(1);
      position: relative;
      top: -.5px;
    }
    .roundoff-icon {
      background: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path d="M8.67458 23.3153C10.0589 21.9021 10.416 19.8324 9.74812 18.0792L12.2547 15.5203L19.0633 22.4709C20.5646 24.0036 22.9986 24.0036 24.4999 22.4709L14.973 12.7453L24.5 3.01957C22.9987 1.48703 20.5647 1.48703 19.0634 3.01957L12.2548 9.97022L9.74821 7.41133C10.4161 5.65819 10.059 3.5884 8.67468 2.17515C6.80704 0.268641 3.76837 0.268641 1.90073 2.17515C0.0330892 4.08176 0.033089 7.18384 1.90073 9.09044C3.60243 10.8277 6.27623 10.9812 8.15076 9.55251L11.2783 12.7453L8.15076 15.9381C6.27637 14.5094 3.60252 14.6629 1.90073 16.4001C0.0330886 18.3068 0.0330884 21.4088 1.90073 23.3154C3.76827 25.2219 6.80704 25.2219 8.67458 23.3153ZM3.74817 7.20446C2.89921 6.33789 2.89921 4.92776 3.74817 4.06119C4.59703 3.19452 5.97834 3.19452 6.8272 4.06119C7.67615 4.92776 7.67615 6.33789 6.8272 7.20446C5.97834 8.07108 4.59703 8.07108 3.74817 7.20446ZM3.74817 21.4294C2.89921 20.5628 2.89921 19.1526 3.74817 18.2861C4.59702 17.4194 5.97834 17.4194 6.8272 18.2861C7.67615 19.1526 7.67615 20.5628 6.8272 21.4294C5.97834 22.296 4.59702 22.296 3.74817 21.4294Z" fill="black"/></svg>') no-repeat center;
      background-size: contain;
      height: 1em;
    }
  
    button span {
      display: flex;
      align-items: center;
    }

    button span.icon {
      margin-right: 8px;
      height: 1em;
    }
    p {
      font-size: 12px;
      color: #6b7280; /* Secondary grey */
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Round Off</h1>
    <p>Remove any decimal values from the x and y position values of all top level frames to ensure export without extra pixels.</p>
    <div class="toggle">
      <label>
        <input type="checkbox" id="applyToSelected" /> Only apply to selected frames
      </label>
    </div>
    <button id="roundOff">
      <span class="icon roundoff-icon"></span>Round off
    </button>
  </div>
  <script>
    const roundOffButton = document.getElementById('roundOff');
    const applyToSelectedCheckbox = document.getElementById('applyToSelected');

    roundOffButton.onclick = () => {
      parent.postMessage({
        pluginMessage: {
          type: 'round-off',
          applyToSelected: applyToSelectedCheckbox.checked
        }
      }, '*');
    };
  </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
  <title>Roundoff Plugin</title>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f3f4f6;
      color: #333;
    }
    .container {
      padding: 16px;
      display: flex;
      flex-direction: column;
      align-items: left;
    }
    .container > * {
      margin-bottom: 16px;
    }

    .container > *:last-child {
      margin-bottom: 0;
    }
    h1 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
    }
    .toggle {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }
    .toggle label {
      display: flex;
      align-items: center;
      font-size: 14px;
      cursor: pointer;
    }
    .toggle input {
      margin-right: 8px;
    }
    button {
      background-color: #1abcfe;
      color: white;
      border: none;
      border-radius: 4px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      margin: 4px 0;
      transition: background-color 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    button:hover {
      background-color: #0d99c6;
    }
    button:active {
      background-color: #0b7a9e;
    }
    .icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-right: 8px;
      width: 16px;
      height: 16px;
      vertical-align: middle;
      filter: invert(1);
      position: relative;
      top: 1px; /* Adjusts alignment to match text */
    }
    .roundoff-icon {
      background: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="6" cy="6" r="3"/><circle cx="18" cy="6" r="3"/><line x1="8.12" y1="8.12" x2="15.88" y2="15.88"/><line x1="8.12" y1="15.88" x2="15.88" y2="8.12"/></svg>') no-repeat center;
      background-size: contain;
    }
    .close-icon {
      background: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>') no-repeat center;
      background-size: contain;
    }
    button span {
      display: flex;
      align-items: center;
    }

    button span.icon {
      margin-right: 8px;
    }
    p {
      font-size: 12px;
      color: #6b7280; /* Secondary grey */
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Round Off</h1>
    <p>Remove any decimal values from the x and y position values of all top level frames to ensure export without extra pixels.</p>
    <div class="toggle">
      <label>
        <input type="checkbox" id="applyToSelected" /> Only apply to selected frames
      </label>
    </div>
    <button id="roundOff">
      <span class="icon roundoff-icon"></span>Round off
    </button>
  </div>
  <script>
    const roundOffButton = document.getElementById('roundOff');
    const applyToSelectedCheckbox = document.getElementById('applyToSelected');

    roundOffButton.onclick = () => {
      parent.postMessage({
        pluginMessage: {
          type: 'round-off',
          applyToSelected: applyToSelectedCheckbox.checked
        }
      }, '*');
    };
  </script>
</body>
</html>